
@{
    ViewBag.Title = "月销售信息";
    Layout = "~/Views/Shared/_OffLayout.cshtml";
}
@section page{
    2
}
<div class="row">
    <div class="col-xs-8">
    </div>
    <div class="col-xs-4">
        <div class="input-group">
            <input type="text" class="form-control input-sm" placeholder="搜索门店名称" id="search-query">
            <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="button" id="search-btn"><i class="fa fa-search"></i></button>
            </span>
        </div>
    </div>
</div>
<br />
<div id="list-container">

</div>
<div class="row">
    <div class="col-md-9">
        <div class="row">
            <div class="col-md-9">
                <canvas id="myChart" width="500" height="400"></canvas>
            </div>
            <ul class="list-unstyled col-md-3">
                <li><span class="glyphicon glyphicon-stop" aria-hidden="true" style="color:rgba(220,220,220,1)"></span>&nbsp;大润发</li>
                <li><span class="glyphicon glyphicon-stop" aria-hidden="true" style="color:rgba(151,187,205,1)"></span>&nbsp;欧尚</li>
            </ul>
        </div>
    </div>
    <div class="col-md-3">
        <select class="form-control valid" id="StoreSystem" name="StoreSystem">
            <option value="-区域-">-区域-</option>
            <option value="北国系统">北国系统</option>
            <option value="卜蜂莲花">卜蜂莲花</option>
            <option value="承德宽广">承德宽广</option>
            <option value="大润发">大润发</option>
            <option value="贵阳北京华联">贵阳北京华联</option>
            <option value="国泰">国泰</option>
            <option value="邯郸美食林">邯郸美食林</option>
            <option value="河南南阳">河南南阳</option>
            <option value="华联">华联</option>
            <option value="华润">华润</option>
            <option value="家乐福">家乐福</option>
            <option value="乐购">乐购</option>
            <option value="农工商">农工商</option>
            <option value="欧尚">欧尚</option>
            <option value="三江购物">三江购物</option>
            <option value="山西金威">山西金威</option>
            <option value="世纪联华">世纪联华</option>
            <option value="苏果">苏果</option>
            <option value="苏州精品超市">苏州精品超市</option>
            <option value="天津华润">天津华润</option>
            <option value="沃尔玛">沃尔玛</option>
            <option value="郑州丹尼斯">郑州丹尼斯</option>
        </select>
    </div>
</div>
<script src="~/Scripts/Chart.js"></script>
@section scripts{
    <script>
        $(function () {
            $.ajax({
                url: "/OfflineSales/Off_MonthSalesInfo_ajaxlist",
                success: function (data) {
                    $("#list-container").html(data);
                }
            });
            $("#search-btn").click(function () {
                $.ajax({
                    url: "/OfflineSales/Off_MonthSalesInfo_ajaxlist",
                    data:{
                        query: $("#search-query").val()
                    },
                    success: function (data) {
                        $("#list-container").html(data);
                    }
                });
            });
        })
        //区域销售折线图
        var data = {
            labels: ["January", "February", "March", "April", "May", "June", "July"],
            datasets: [
                {
                    fillColor: "rgba(220,220,220,0.5)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    data: [65, 59, 90, 81, 56, 55, 40]
                },
                {
                    fillColor: "rgba(151,187,205,0.5)",
                    strokeColor: "rgba(151,187,205,1)",
                    pointColor: "rgba(151,187,205,1)",
                    pointStrokeColor: "#fff",
                    data: [28, 48, 40, 19, 96, 27, 100]
                }
            ]
        }
        var defaults = {

            //Boolean - If we show the scale above the chart data			
            scaleOverlay: false,

            //Boolean - If we want to override with a hard coded scale
            scaleOverride: false,
            //** Required if scaleOverride is true **
            //Number - The number of steps in a hard coded scale
            scaleSteps: null,

            //Number - The value jump in the hard coded scale
            scaleStepWidth: 20,

            // Y 轴的起始值
            scaleStartValue: null,

            // Y/X轴的颜色
            scaleLineColor: "rgba(0,0,0,.1)",

            // X,Y轴的宽度
            scaleLineWidth: 1,

            // 刻度是否显示标签, 即Y轴上是否显示文字
            scaleShowLabels: true,

            // Y轴上的刻度,即文字
            scaleLabel: "<%=value%>",

            // 字体
            scaleFontFamily: "'Arial'",

            // 文字大小
            scaleFontSize: 12,

            // 文字样式
            scaleFontStyle: "normal",

            // 文字颜色
            scaleFontColor: "#666",

            // 是否显示网格
            scaleShowGridLines: false,

            // 网格颜色
            scaleGridLineColor: "rgba(0,0,0,.05)",

            // 网格宽度
            scaleGridLineWidth: 2,

            // 是否使用贝塞尔曲线? 即:线条是否弯曲
            bezierCurve: false,

            // 是否显示点数
            pointDot: true,

            // 圆点的大小
            pointDotRadius:4 ,

            // 圆点的笔触宽度, 即:圆点外层白色大小
            pointDotStrokeWidth: 2,

            // 数据集行程
            datasetStroke: true,

            // 线条的宽度, 即:数据集
            datasetStrokeWidth: 2,

            // 是否填充数据集
            datasetFill: false,

            // 是否执行动画
            animation: true,

            // 动画的时间
            animationSteps: 60,

            // 动画的特效
            animationEasing: "easeOutQuart",

            // 动画完成时的执行函数
            onAnimationComplete: null

        }
        var ctx = $("#myChart").get(0).getContext("2d");
        new Chart(ctx).Line(data, defaults);
//制作柱状图

    </script>
}

