
@{
    ViewBag.Title = "TaskSellerHome";
    Layout = "~/Views/Shared/_OffLayout.cshtml";
    ViewBag.Current = "headingTen";
}

<table class="offline-search-box">
    <tbody>
        <tr class="pull-right">
            <td style="padding-right:15px;">
                <label>查询时间：</label>
                <input class="form-control input-sm offline-search-inline" id="off-taskseller-data" placeholder="选择日期">
            </td>
            <td>
                <label>暗促信息：</label>
                <input class="form-control input-sm offline-search-inline" id="off-taskseller-search" placeholder="搜索内容">
                <a class="btn btn-info btn-sm" id="off-taskseller-searchbtn"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</a>
            </td>
        </tr>
    </tbody>
</table>
<div id="off-taskseller-content">

</div>
<script>
    $(function () {
        $("#off-taskseller-data").datepicker({ dateFormat: 'yy-mm' });
        var current = new Date().Format("yyyy-MM");
        $("#off-taskseller-data").val(current);
        $.ajax({
            url: "/OffSellerTask/TaskSellerQueryMonthPartial",
            data:{
                month: $("#off-taskseller-data").val(),
            },
            success: function (data) {
                $("#off-taskseller-content").html(data);
            }
        });
    });
    //查询
    $("#off-taskseller-searchbtn").click(function () {
        $.ajax({
            url: "/OffSellerTask/TaskSellerQueryMonthPartial",
            data: {
                month: $("#off-taskseller-data").val(),
                sellertask: $("#off-taskseller-search").val()
            },
            success: function (data) {
                $("#off-taskseller-content").html(data);
            }
        });
    });
    Date.prototype.Format = function (fmt) { //author: meizz   
        var o = {
            "M+": this.getMonth() + 1,                 //月份   
            "d+": this.getDate(),                    //日   
            "h+": this.getHours(),                   //小时   
            "m+": this.getMinutes(),                 //分   
            "s+": this.getSeconds(),                 //秒   
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度   
            "S": this.getMilliseconds()             //毫秒   
        };
        if (/(y+)/.test(fmt))
            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    }
</script>